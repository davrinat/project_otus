# Сервис для актуализации справочной информации с использованием DaData

### Swagger - http://localhost:8080/swagger-ui/index.html

  Доработка представляет собой вспомогательный сервис, призванный предоставлять потребителю запрашиваемую информацию,
которая может быть использована в качкстве справочной информации при составлении ордеров, картотеки и т. п.   
  Запросы от потребителя принимаются через слой gate-service и далее перенаправляются в da_data-service, сервис который, 
в свою очередь, выполняет запросы в DaData для получения соответствующей запросу информации. После чего возвращает результат клиенту
посредством передачи его в gate-service, где происходит копирование ответа и отправка его в database-service, который выступает 
в данном случае в качестве сервиса для фиксации в базе данных полученных ответов.   
  В перспективе слой работы с БД, после реализации основного слоя (слоя создания ордеров и т. п.), будет дополнен таблицами 
для хранения соответствующей информации.  
  Для корректной работы необходимо пройти регистрацию на сайте [DaData](https://dadata.ru/) и получить публичный и секретный ключи.
  Заменить файл application.properties.origin на application.properties и прописать туда полученные ранее ключи, остальные настройки оставить прежними.
  Далее запустить из командной строки docker-образ из директории /docker. После выполнения команды поднимется БД, необходима
для записи полученных от DaData ответов.

## Стандартизация адресов:
✔ Разбивает адрес по отдельным полям (регион, город, улица, дом, квартира).

✔ Рассчитывает корректный индекс по данным Почты России.

✔ Определяет координаты.

✔ Показывает округ и район города, ближайшее метро, площадь и стоимость квартиры.

✔ Достает коды КЛАДР, ФИАС (ГАР), ОКАТО, ОКТМО и ИФНС.

### API:
* POST https://cleaner.dadata.ru/api/v1/clean/address - определяет координаты адреса (дома, улицы, города).

  Пример строки поиска - [ "москва сухонская 11" ]


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/geolocate/address - находит ближайшие адреса (дома, улицы, города) по географическим координатам.

  Пример строки поиска - { "lat": 55.878, "lon": 37.653 }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/postal_unit - справочник почтовых отделений. Точное отделение по индексу или ближайшее — по координатам.

  Пример строки поиска - { "query": "дежнева 2а" }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/delivery - определяет идентификатор города в службе доставке на основании КЛАДР-кода города.
  Пока поддерживаются службы доставки СДЭК, Boxberry и DPD.

  Пример строки поиска - { "query": "3100400100000" }

## Компании:
✔ API работы с ЕГРЮЛ и реестрами налоговой.

### API:
* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/party - находит компанию или ИП по ИНН или ОГРН.

  Пример строки поиска - { "query": "7707083893" }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/findAffiliated/party - поиск аффилированных компаний, по ИНН учредителей и руководителей.

  Пример строки поиска - { "query": "7736207543" }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/findByEmail/company - находит компанию по адресу электронной почты.

  Пример строки поиска - { "query": "info@dadata.ru" }

## Прочие справочники:
✔ Налоговые инспекции, мировые суды, классификаторы и другое.

### API:
* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/fns_unit - справочник инспекций Налоговой службы.

  Пример строки поиска - { "query": "нижнего" }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/fts_unit - справочник таможенных органов и постов.

  Пример строки поиска - { "query": "домодедово" }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/mktu - международный классификатор товаров и услуг на трех языках (русский, английский, французский).

  Пример строки поиска - { "query": "валенки" }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/currency - справочник валют по стандарту ISO 4217.

  Пример строки поиска - { "query": "руб" }


* POST http://suggestions.dadata.ru/suggestions/api/4_1/rs/findById/bank - Находит банк по любому из идентификаторов:

  ✔ БИК,

  ✔ SWIFT,

  ✔ ИНН,

  ✔ ИНН + КПП (для филиалов),

  ✔ регистрационному номеру,

  присвоенному Банком России.

  Пример строки поиска - { "query": "044525225" }

